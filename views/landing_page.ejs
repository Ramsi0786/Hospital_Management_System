<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> | Healora</title>
  
  <link href="/images/test.jpg" rel="icon">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">

</head>
<body>

  <!-- Loading Spinner -->
  <div id="spinner" class="show bg-white position-fixed w-100 vh-100 d-flex align-items-center justify-content-center">
    <div class="spinner-grow text-primary m-1" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-dark m-1" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-secondary m-1" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <%- include('partials/navbar') %>

  <!-- ====================================
       HERO CAROUSEL
  ==================================== -->
  <div id="header-carousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">

      <div class="carousel-item active">
        <img class="w-100" src="/images/doctors.jpg" alt="Doctors Image">
        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
          <div class="p-3 text-center" style="max-width: 700px;">
            <h1 class="display-5 fw-bold text-white mb-3">Smarter Healthcare, Simplified for Everyone</h1>
            <p class="fs-5 text-light mb-4">We connect patients, doctors, and hospitals with secure, cloud-based healthcare solutions.</p>
            <a href="/appointment" class="btn btn-primary py-2 px-4 rounded-pill">Book Appointment</a>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <img class="w-100" src="/images/doctor-patient.jpg" alt="Nurse Caring Patient">
        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
          <div class="p-3 text-center" style="max-width: 700px;">
            <h1 class="display-5 fw-bold text-white mb-3">Compassionate Care for Every Patient</h1>
            <p class="fs-5 text-light mb-4">Our nurses and staff ensure comfort and personalized attention at every step.</p>
            <a href="/about-us" class="btn btn-primary py-2 px-4 rounded-pill">Learn More</a>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <img class="w-100" src="/images/child-doctor.jpg" alt="Doctor Consulting Child">
        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
          <div class="p-3 text-center" style="max-width: 700px;">
            <h1 class="display-5 fw-bold text-white mb-3">Trusted Pediatric Consultations</h1>
            <p class="fs-5 text-light mb-4">Specialized care for children with attention, patience, and expertise.</p>
            <a href="/doctors" class="btn btn-primary py-2 px-4 rounded-pill">Meet Our Doctors</a>
          </div>
        </div>
      </div>

    </div>

    <div class="carousel-vertical-controls">
      <div class="carousel-left">
        <button type="button" data-bs-target="#header-carousel" data-bs-slide="prev"></button>
      </div>
      <div class="carousel-right">
        <button type="button" data-bs-target="#header-carousel" data-bs-slide="next"></button>
      </div>
    </div>
  </div>

  <!-- ====================================
       ABOUT PREVIEW SECTION
  ==================================== -->
  <section class="about-preview-section py-5">
    <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between">
      
      <div class="about-text mb-4 mb-md-0">
        <h2 class="fw-bold text-primary">Healing with Innovation</h2>
        <h6 class="about-sec-head mb-3 fw-bold">Where compassion meets digital precision</h6>
        <p class="text-muted mb-4" style="max-width: 550px;">
          At Healora Hospital, we're dedicated to providing world-class healthcare with compassion and innovation.
          Our team of expert doctors, nurses, and staff ensures the best treatment for every patient with
          advanced facilities and personalized care.
        </p>
        <a href="/about-us" class="btn btn-primary px-4 py-2">Read More</a>
      </div>

      <div class="about-img">
        <img src="/images/about_us.jpg" alt="About Healora Hospital" class="img-fluid rounded-3 shadow">
      </div>
    </div>
  </section>

  <!-- ====================================
       WHY CHOOSE HEALORA SECTION
  ==================================== -->
  <section class="why-healora-section py-6 bg-light">
    <div class="container">

      <div class="text-center mb-5">
        <h2 class="fw-bold" style="color: #1B365D;">Why Choose Healora?</h2>
        <p class="text-muted mt-2" style="max-width: 650px; margin: 0 auto;">
          Smart, secure, and seamless healthcare management — designed to make hospitals more efficient and patient care more personal.
        </p>
      </div>

      <div class="row g-4 justify-content-center">
        <div class="col-lg-4 col-md-6">
          <div class="card feature-card border-0 shadow-lg text-center p-5 rounded-4 hover-up">
            <div class="icon-circle mx-auto mb-4">
              <i class="fa-solid fa-bolt fa-2x text-primary"></i>
            </div>
            <h5 class="fw-bold mb-3" style="color: #1B365D;">Faster, Smarter Workflows</h5>
            <p class="text-muted">
              Our system automates repetitive tasks, reduces paperwork, and helps doctors, nurses, and staff focus more on patients — not processes.
            </p>
          </div>
        </div>

        <div class="col-lg-4 col-md-6">
          <div class="card feature-card border-0 shadow-lg text-center p-5 rounded-4 hover-up">
            <div class="icon-circle mx-auto mb-4">
              <i class="fa-solid fa-gears fa-2x text-primary"></i>
            </div>
            <h5 class="fw-bold mb-3" style="color: #1B365D;">Simplifying Healthcare Management</h5>
            <p class="text-muted">
              Healora is designed to make hospital and clinic operations seamless. From patient registration to billing, everything is quick, accurate, and hassle-free.
            </p>
          </div>
        </div>

        <div class="col-lg-4 col-md-6">
          <div class="card feature-card border-0 shadow-lg text-center p-5 rounded-4 hover-up">
            <div class="icon-circle mx-auto mb-4">
              <i class="fa-solid fa-shield-halved fa-2x text-primary"></i>
            </div>
            <h5 class="fw-bold mb-3" style="color: #1B365D;">Secure & Reliable</h5>
            <p class="text-muted">
              We ensure top-notch data security with encrypted storage, giving you peace of mind that patient records are always safe.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====================================
       HOSPITAL STATS SECTION
  ==================================== -->
  <section class="stats-section">
    <div class="container">
      <div class="stats-grid">

        <div class="stat-item">
          <div class="stat-icon">
            <i class="fas fa-hospital"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number" data-target="<%= stats.experience %>">0</div>
            <div class="stat-plus">+</div>
            <div class="stat-label">Years of Experience</div>
          </div>
        </div>

        <div class="stat-divider"></div>

        <div class="stat-item">
          <div class="stat-icon">
            <i class="fas fa-user-md"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number" data-target="<%= stats.doctors %>">0</div>
            <div class="stat-plus">+</div>
            <div class="stat-label">Expert Doctors</div>
          </div>
        </div>

        <div class="stat-divider"></div>

        <div class="stat-item">
          <div class="stat-icon">
            <i class="fas fa-users"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number" data-target="<%= stats.patients %>">0</div>
            <div class="stat-plus">+</div>
            <div class="stat-label">Happy Patients</div>
          </div>
        </div>

        <div class="stat-divider"></div>

        <div class="stat-item">
          <div class="stat-icon">
            <i class="fas fa-award"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number" data-target="<%= stats.awards %>">0</div>
            <div class="stat-plus">+</div>
            <div class="stat-label">Awards Won</div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ====================================
       SERVICES SECTION
  ==================================== -->
  <section class="container py-5">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-primary">Our Core Healthcare Services</h2>
      <p class="text-muted">Comprehensive care with advanced technology and trusted expertise — all under one roof.</p>
    </div>

    <div class="row g-4">
      <div class="col-lg-4 col-md-6">
        <div class="card service-card">
          <img src="/images/service1.jpg" class="card-img-top" alt="General Consultation">
          <div class="card-body text-center">
            <h5>General Consultation</h5>
            <p>Experienced doctors providing accurate diagnosis and personalized treatment for every patient.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="card service-card">
          <img src="/images/service2.jpg" class="card-img-top" alt="Diagnostics & Scans">
          <div class="card-body text-center">
            <h5>Diagnostics & Scans</h5>
            <p>Advanced imaging and testing facilities ensuring quick and reliable results with utmost precision.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="card service-card">
          <img src="/images/service3.jpg" class="card-img-top" alt="Emergency Care">
          <div class="card-body text-center">
            <h5>Emergency Care</h5>
            <p>Round-the-clock emergency unit equipped with modern facilities and expert medical staff.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="card service-card">
          <img src="/images/service4.jpg" class="card-img-top" alt="Pharmacy & Medicine">
          <div class="card-body text-center">
            <h5>Pharmacy & Medicine</h5>
            <p>On-site pharmacy offering genuine and prescribed medicines with professional guidance.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="card service-card">
          <img src="/images/service5.jpg" class="card-img-top" alt="Surgery & Operation Theatre">
          <div class="card-body text-center">
            <h5>Surgery & Operation Theatre</h5>
            <p>State-of-the-art operation theatres ensuring patient safety and top surgical standards.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-6">
        <div class="card service-card">
          <img src="/images/service6.jpg" class="card-img-top" alt="Physiotherapy & Rehabilitation">
          <div class="card-body text-center">
            <h5>Physiotherapy & Rehabilitation</h5>
            <p>Expert-led therapy sessions helping patients recover faster and regain strength efficiently.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center mt-5">
      <a href="/services" class="btn service-cta-btn">View More</a>
    </div>
  </section>

  <!-- ====================================
       MEET OUR DOCTORS SECTION
  ==================================== -->
  <section id="doctors" class="py-5">
    <div class="container text-center">
      <div class="mb-5">
        <h6 class="text-uppercase text-primary fw-bold">Our Team</h6>
        <h1 class="fw-bold mb-4">Meet Our <span class="text-primary">Doctors</span></h1>
        <p class="text-muted w-75 mx-auto">
          Our experienced and friendly doctors are dedicated to providing you with the best medical care possible.
        </p>
      </div>

      <% if (doctors && doctors.length > 0) { %>

        <div id="doctorCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">

            <% for (let i = 0; i < doctors.length; i += 4) { %>
              <div class="carousel-item <%= i === 0 ? 'active' : '' %>">
                <div class="row g-4 justify-content-center">

                  <% doctors.slice(i, i + 4).forEach(doctor => { %>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                      <div class="doctor-card">
                      <div class="doctor-avatar <%= doctor.profileImage ? 'has-image' : 'has-initials' %>">
                        <% if (doctor.profileImage) { %>
                          <img src="<%= doctor.profileImage %>" alt="Dr. <%= doctor.name %>" class="doctor-avatar-img">
                          <% } else { %>
                            <%= doctor.name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2) %>
                          <% } %>
                      </div>
                        <h5 class="doctor-name">Dr. <%= doctor.name %></h5>
                        <p class="doctor-specialty"><%= doctor.specialization %></p>
                        <p class="doctor-dept"><%= doctor.department %> Department</p>
                        <a href="/doctors/<%= doctor._id %>" class="btn btn-primary btn-sm">View Profile</a>
                      </div>
                    </div>
                  <% }) %>

                </div>
              </div>
            <% } %>

          </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="doctor-carousel-nav">
          <button class="doctor-nav-btn" type="button" data-bs-target="#doctorCarousel" data-bs-slide="prev">
            <i class="fas fa-angle-double-left"></i>
          </button>
          <button class="doctor-nav-btn" type="button" data-bs-target="#doctorCarousel" data-bs-slide="next">
            <i class="fas fa-angle-double-right"></i>
          </button>
        </div>

        <!-- View All Button -->
        <div class="text-center mt-5">
          <a href="/doctors" class="btn btn-primary px-5 py-2 rounded-pill">View All Doctors</a>
        </div>

      <% } else { %>
        <p class="text-muted">No doctors available at the moment.</p>
      <% } %>

    </div>
  </section>

  <%- include('partials/footer') %>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    window.addEventListener('load', () => {
      const spinner = document.getElementById('spinner');
      if (spinner) spinner.classList.remove('show');
    });

    const animateCounter = (el) => {
      const target = parseInt(el.getAttribute('data-target'));

      if (!target || target === 0) {
        el.textContent = 0;
        return;
      }

      const duration    = 2000;    
      const frameRate   = 60;
      const totalFrames = (duration / 1000) * frameRate;
      const increment   = target / totalFrames;
      let current = 0;

      const update = () => {
        current += increment;
        if (current < target) {
          el.textContent = Math.floor(current);
          requestAnimationFrame(update);
        } else {
          el.textContent = target; 
        }
      };

      update();
    };

    const counters     = document.querySelectorAll('.stat-number');
    const statsSection = document.querySelector('.stats-section');

    if (statsSection && counters.length > 0) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            counters.forEach(animateCounter);
            observer.disconnect(); 
          }
        });
      }, { threshold: 0.3 });

      observer.observe(statsSection);
    }
  </script>
</body>
</html>
